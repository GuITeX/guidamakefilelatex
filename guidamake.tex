\documentclass[b5paper,11pt,oneside]{guidatematica}
\ProvidesFile{guidamake.tex}[2013/03/02 v.1.0 Introduzione alla scrittura di
Makefile per compilare documenti LaTeX]

\usepackage{quoting,multicol}
\usepackage{menukeys} % `menukeys' carica automaticamente `tikz'
\usepackage{hyperref}

\addto\captionsitalian{\renewcommand{\lstlistingname}{Codice}}
\usetikzlibrary{calc}

\hypersetup{
  pdftitle={Introduzione ai Makefile per compilare documenti LaTeX},
  pdfauthor={Mosè Giordano},
  breaklinks=true, % permette di spezzare i link su più righe
  bookmarksnumbered, % inserisce i numeri delle sezioni nei segnalibri
  %%% opzioni dei colori di guidatematica.cls
  colorlinks,linkcolor={blue},
  citecolor={blue!80!black},urlcolor={blue},
}

\lstset{
  language=[gnu]make,
  basicstyle=\small\ttfamily,
  keywordstyle=\color{blue}\bfseries,
  commentstyle=\color{red},
  stringstyle=\color{purple},
  showstringspaces=false,
  belowcaptionskip=\bigskipamount,
  frame=single,
  literate=
  {à}{{\`a}}1
  {è}{{\`e}}1
  {ì}{{\`i}}1
  {ò}{{\`o}}1
  {ù}{{\`u}}1,
}

\newsavebox{\codetitlebox}

\begin{document}

\frontmatter{}

\begin{lrbox}{\codetitlebox}
  \begin{minipage}{0.51\textwidth}
    \lstset{basicstyle=\large\ttfamily,
      classoffset=0,
      morekeywords={target},keywordstyle=\color{blue},
      classoffset=1,
      morekeywords={dependencies},keywordstyle=\color[HTML]{A0522D},
      frame=shadowbox,frameround=ffff,rulesepcolor=\color[cmyk]{1,0,1,0.6}}
\begin{lstlisting}
target: dependencies ...
	commands
	...
\end{lstlisting}
  \end{minipage}
\end{lrbox}

\title{%
  \usebox{\codetitlebox}\\[\bigskipamount]
  Introduzione ai Makefile \\
  per compilare documenti \LaTeX}

\author{Mosè Giordano}
\GetFileInfo{guidamake.tex}
\date{\fileversion{} del \filedate}

\maketitle

\input{Capitoli/note}
\input{Capitoli/intro}
\newpage\tableofcontents

\mainmatter{}
\input{Capitoli/concetti}
\input{Capitoli/esempi}
\input{Capitoli/editor}

\backmatter{}
\bibliography{bibliografia}
\end{document}

% Local Variables:
% TeX-master: t
% fill-column: 80
% time-stamp-pattern: "2/\\\\ProvidesFile{.*}\\[%:y/%02m/%02d v"
% End:
